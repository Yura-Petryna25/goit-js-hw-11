{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '47428851-5b047435bdffa798507e52955';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    throw new Error('Failed to fetch images');\n  }\n\n  return response.json();\n}\n// // fetchImages(query, page);\n// then(({ hits, totalHits }) => {\n//   toggleLoader(false);\n//   if (hits.length === 0) {\n//     iziToast.error({\n//       title: 'Error',\n//       message: 'No images found. Please try again!',\n//     });\n//     return;\n//   }\n\n//   gallery.insertAdjacentHTML('beforeend', renderGallery(hits));\n//   lightbox.refresh();\n// }).catch(error => {\n//   toggleLoader(false);\n//   iziToast.error({ title: 'Error', message: 'Failed to fetch images.' });\n// });\n","export function renderGallery(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <div class=\"gallery-item\">\n      <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p>Likes: ${likes}</p>\n        <p>Views: ${views}</p>\n        <p>Comments: ${comments}</p>\n        <p>Downloads: ${downloads}</p>\n      </div>\n    </div>`\n    )\n    .join('');\n}\n","// import { fetchImages } from './js/pixabay-api';\n// import { renderGallery } from './js/render-functions';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\n// const form = document.querySelector('#search-form');\n// const gallery = document.querySelector('.gallery');\n// const loader = document.querySelector('.loader');\n// let lightbox;\n\n// async function handleSearch(event) {\n//   event.preventDefault();\n//   const query = form.elements.searchQuery.value.trim();\n\n//   if (!query) {\n//     iziToast.warning({\n//       title: 'Warning',\n//       message: 'Please enter a search query!',\n//     });\n//     return;\n//   }\n\n//   gallery.innerHTML = '';\n//   loader.classList.add('visible');\n\n//   try {\n//     const data = await fetchImages(query);\n//     loader.classList.remove('visible');\n\n//     if (data.hits.length === 0) {\n//       iziToast.info({ title: 'Info', message: 'No results found.' });\n//       return;\n//     }\n\n//     gallery.innerHTML = renderGallery(data.hits);\n\n//     if (!lightbox) {\n//       lightbox = new SimpleLightbox('.gallery a');\n//     } else {\n//       lightbox.refresh();\n//     }\n//   } catch (error) {\n//     // loader.classList.add('hidden');\n//     toggleLoader(false);\n//     iziToast.error({\n//       title: 'Error',\n//       message: 'Failed to fetch images. Please try again later.',\n//     });\n//   }\n// }\n// // catch (error) {\n// //   iziToast.error({ title: 'Error', message: 'Something went wrong!' });\n// // }\n\n// form.addEventListener('submit', handleSearch);\nimport { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nfunction toggleLoader(show) {\n  loader.classList.toggle('visible', show);\n}\n\nasync function handleSearch(event) {\n  event.preventDefault();\n  const query = form.elements.searchQuery.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  toggleLoader(true); // Показуємо завантажувач\n\n  try {\n    const data = await fetchImages(query);\n    toggleLoader(false); // Приховуємо завантажувач\n\n    if (data.hits.length === 0) {\n      iziToast.info({ title: 'Info', message: 'No results found.' });\n      return;\n    }\n\n    gallery.innerHTML = renderGallery(data.hits);\n\n    if (!lightbox) {\n      lightbox = new SimpleLightbox('.gallery a');\n    } else {\n      lightbox.refresh();\n    }\n  } catch (error) {\n    toggleLoader(false); // Приховуємо завантажувач\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later.',\n    });\n  }\n}\n\nform.addEventListener('submit', handleSearch);\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","renderGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","lightbox","toggleLoader","show","handleSearch","event","iziToast","data","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,iEAAiEC,CAAI,aAAaC,CAAO,GACpFE,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OAAOA,EAAS,MAClB,CCdO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,iBAEKL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,oBAG1BC,CAAK;AAAA,oBACLC,CAAK;AAAA,uBACFC,CAAQ;AAAA,wBACPC,CAAS;AAAA;AAAA,WAG5B,EACA,KAAK,EAAE,CACZ,CCuCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEJ,SAASC,EAAaC,EAAM,CAC1BH,EAAO,UAAU,OAAO,UAAWG,CAAI,CACzC,CAEA,eAAeC,EAAaC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMrB,EAAQc,EAAK,SAAS,YAAY,MAAM,OAE9C,GAAI,CAACd,EAAO,CACVsB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDP,EAAQ,UAAY,GACpBG,EAAa,EAAI,EAEjB,GAAI,CACF,MAAMK,EAAO,MAAMxB,EAAYC,CAAK,EAGpC,GAFAkB,EAAa,EAAK,EAEdK,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,KAAK,CAAE,MAAO,OAAQ,QAAS,mBAAmB,CAAE,EAC7D,MACD,CAEDP,EAAQ,UAAYV,EAAckB,EAAK,IAAI,EAEtCN,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIO,EAAe,YAAY,CAI7C,MAAe,CACdN,EAAa,EAAK,EAClBI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACf,CAAK,CACF,CACH,CAEAR,EAAK,iBAAiB,SAAUM,CAAY"}